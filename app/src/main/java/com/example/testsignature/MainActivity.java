package com.example.testsignature;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.graphics.Bitmap;
import android.media.Image;
import android.os.Bundle;
import android.os.Environment;
import android.util.Base64;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

import com.github.gcacace.signaturepad.views.SignaturePad;
import com.itextpdf.io.image.ImageData;
import com.itextpdf.io.image.ImageDataFactory;
import com.itextpdf.kernel.pdf.PdfDocument;
import com.itextpdf.kernel.pdf.PdfReader;
import com.itextpdf.kernel.pdf.PdfWriter;
import com.itextpdf.kernel.pdf.canvas.PdfCanvas;

import org.w3c.dom.Document;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;

public class MainActivity extends AppCompatActivity {
    SignaturePad signaturePad;
    Button saveButton, viewPdf;
    Bitmap transpBitmap;
    public static final String BASE64_PDF = "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MjEyLjAgMjY2NS4wIDkwNS4wIF0NCi9JdGFsaWNBbmdsZSAwDQovU3RlbVYgMA0KPj4NCmVuZG9iag0KMTAgMCBvYmoNClsNCjc1MC4wIDc1MC4wIDI3OC4wIDI3OC4wIDM1NS4wIDU1Ni4wIDU1Ni4wIDg4OS4wIDY2Ny4wIDE5MS4wIDMzMy4wIDMzMy4wIDM4OS4wIDU4NC4wIDI3OC4wIDMzMy4wIDI3OC4wIDI3OC4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDI3OC4wIDI3OC4wIDU4NC4wIDU4NC4wIDU4NC4wIDU1Ni4wIDEwMTUuMCA2NjcuMCA2NjcuMCA3MjIuMCA3MjIuMCA2NjcuMCA2MTEuMCA3NzguMCA3MjIuMCAyNzguMCA1MDAuMCA2NjcuMCA1NTYuMCA4MzMuMCA3MjIuMCA3NzguMCA2NjcuMCA3NzguMCA3MjIuMCA2NjcuMCA2MTEuMCA3MjIuMCA2NjcuMCA5NDQuMCA2NjcuMCA2NjcuMCA2MTEuMCAyNzguMCAyNzguMCAyNzguMCA0NjkuMCA1NTYuMCAzMzMuMCA1NTYuMCA1NTYuMCA1MDAuMCA1NTYuMCA1NTYuMCAyNzguMCA1NTYuMCA1NTYuMCAyMjIuMCAyMjIuMCA1MDAuMCAyMjIuMCA4MzMuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCAzMzMuMCA1MDAuMCAyNzguMCA1NTYuMCA1MDAuMCA3MjIuMCA1MDAuMCA1MDAuMCA1MDAuMCAzMzQuMCAyNjAuMCAzMzQuMCA1ODQuMCA3NTAuMCA1NTYuMCA3NTAuMCAyMjIuMCA1NTYuMCAzMzMuMCAxMDAwLjAgNTU2LjAgNTU2LjAgMzMzLjAgMTAwMC4wIDY2Ny4wIDMzMy4wIDEwMDAuMCA3NTAuMCA2MTEuMCA3NTAuMCA3NTAuMCAyMjIuMCAyMjIuMCAzMzMuMCAzMzMuMCAzNTAuMCA1NTYuMCAxMDAwLjAgMzMzLjAgMTAwMC4wIDUwMC4wIDMzMy4wIDk0NC4wIDc1MC4wIDUwMC4wIDY2Ny4wIDI3OC4wIDMzMy4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDU1Ni4wIDI2MC4wIDU1Ni4wIDMzMy4wIDczNy4wIDM3MC4wIDU1Ni4wIDU4NC4wIDMzMy4wIDczNy4wIDU1Mi4wIDQwMC4wIDU0OS4wIDMzMy4wIDMzMy4wIDMzMy4wIDU3Ni4wIDUzNy4wIDMzMy4wIDMzMy4wIDMzMy4wIDM2NS4wIDU1Ni4wIDgzNC4wIDgzNC4wIDgzNC4wIDYxMS4wIDY2Ny4wIDY2Ny4wIDY2Ny4wIDY2Ny4wIDY2Ny4wIDY2Ny4wIDEwMDAuMCA3MjIuMCA2NjcuMCA2NjcuMCA2NjcuMCA2NjcuMCAyNzguMCAyNzguMCAyNzguMCAyNzguMCA3MjIuMCA3MjIuMCA3NzguMCA3NzguMCA3NzguMCA3NzguMCA3NzguMCA1ODQuMCA3NzguMCA3MjIuMCA3MjIuMCA3MjIuMCA3MjIuMCA2NjcuMCA2NjcuMCA2MTEuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA4ODkuMCA1MDAuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCAyNzguMCAyNzguMCAyNzguMCAyNzguMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NDkuMCA2MTEuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCA1MDAuMCA1NTYuMCA1MDAuMCANCl0NCmVuZG9iag0KOCAwIG9iag0KPDwgL1R5cGUgL0VuY29kaW5nDQovQmFzZUVuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCjEyIDAgb2JqDQo8PCAvVHlwZSAvRm9udA0KL1N1YnR5cGUgL1RydWVUeXBlDQovTmFtZSAvRm9udEI4OCxCb2xkDQovQmFzZUZvbnQgL0ZvbnRCODgsQm9sZA0KL0ZpcnN0Q2hhciAzMA0KL0xhc3RDaGFyIDI1NQ0KL0ZvbnREZXNjcmlwdG9yIDE0IDAgUg0KL1dpZHRocyAxNSAwIFINCi9FbmNvZGluZyAxMyAwIFINCj4+DQplbmRvYmoNCjE0IDAgb2JqDQo8PCAvVHlwZSAvRm9udERlc2NyaXB0b3INCi9Gb250TmFtZSAvRm9udEI4OCxCb2xkDQovQXNjZW50IDkwNS4wDQovQ2FwSGVpZ2h0IDkwNS4wDQovRGVzY2VudCAtMjEyLjANCi9GbGFncyAzMw0KL0ZvbnRCQm94IFsgLTI1MC4wIC0yMTIuMCAyNjI4LjAgOTA1LjAgXQ0KL0l0YWxpY0FuZ2xlIDANCi9TdGVtViAwDQo+Pg0KZW5kb2JqDQoxNSAwIG9iag0KWw0KNzUwLjAgNzUwLjAgMjc4LjAgMzMzLjAgNDc0LjAgNTU2LjAgNTU2LjAgODg5LjAgNzIyLjAgMjM4LjAgMzMzLjAgMzMzLjAgMzg5LjAgNTg0LjAgMjc4LjAgMzMzLjAgMjc4LjAgMjc4LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgMzMzLjAgMzMzLjAgNTg0LjAgNTg0LjAgNTg0LjAgNjExLjAgOTc1LjAgNzIyLjAgNzIyLjAgNzIyLjAgNzIyLjAgNjY3LjAgNjExLjAgNzc4LjAgNzIyLjAgMjc4LjAgNTU2LjAgNzIyLjAgNjExLjAgODMzLjAgNzIyLjAgNzc4LjAgNjY3LjAgNzc4LjAgNzIyLjAgNjY3LjAgNjExLjAgNzIyLjAgNjY3LjAgOTQ0LjAgNjY3LjAgNjY3LjAgNjExLjAgMzMzLjAgMjc4LjAgMzMzLjAgNTg0LjAgNTU2LjAgMzMzLjAgNTU2LjAgNjExLjAgNTU2LjAgNjExLjAgNTU2LjAgMzMzLjAgNjExLjAgNjExLjAgMjc4LjAgMjc4LjAgNTU2LjAgMjc4LjAgODg5LjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgMzg5LjAgNTU2LjAgMzMzLjAgNjExLjAgNTU2LjAgNzc4LjAgNTU2LjAgNTU2LjAgNTAwLjAgMzg5LjAgMjgwLjAgMzg5LjAgNTg0LjAgNzUwLjAgNTU2LjAgNzUwLjAgMjc4LjAgNTU2LjAgNTAwLjAgMTAwMC4wIDU1Ni4wIDU1Ni4wIDMzMy4wIDEwMDAuMCA2NjcuMCAzMzMuMCAxMDAwLjAgNzUwLjAgNjExLjAgNzUwLjAgNzUwLjAgMjc4LjAgMjc4LjAgNTAwLjAgNTAwLjAgMzUwLjAgNTU2LjAgMTAwMC4wIDMzMy4wIDEwMDAuMCA1NTYuMCAzMzMuMCA5NDQuMCA3NTAuMCA1MDAuMCA2NjcuMCAyNzguMCAzMzMuMCA1NTYuMCA1NTYuMCA1NTYuMCA1NTYuMCAyODAuMCA1NTYuMCAzMzMuMCA3MzcuMCAzNzAuMCA1NTYuMCA1ODQuMCAzMzMuMCA3MzcuMCA1NTIuMCA0MDAuMCA1NDkuMCAzMzMuMCAzMzMuMCAzMzMuMCA1NzYuMCA1NTYuMCAzMzMuMCAzMzMuMCAzMzMuMCAzNjUuMCA1NTYuMCA4MzQuMCA4MzQuMCA4MzQuMCA2MTEuMCA3MjIuMCA3MjIuMCA3MjIuMCA3MjIuMCA3MjIuMCA3MjIuMCAxMDAwLjAgNzIyLjAgNjY3LjAgNjY3LjAgNjY3LjAgNjY3LjAgMjc4LjAgMjc4LjAgMjc4LjAgMjc4LjAgNzIyLjAgNzIyLjAgNzc4LjAgNzc4LjAgNzc4LjAgNzc4LjAgNzc4LjAgNTg0LjAgNzc4LjAgNzIyLjAgNzIyLjAgNzIyLjAgNzIyLjAgNjY3LjAgNjY3LjAgNjExLjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgODg5LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgNTU2LjAgMjc4LjAgMjc4LjAgMjc4LjAgMjc4LjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNTQ5LjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNjExLjAgNTU2LjAgNjExLjAgNTU2LjAgDQpdDQplbmRvYmoNCjEzIDAgb2JqDQo8PCAvVHlwZSAvRW5jb2RpbmcNCi9CYXNlRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZw0KPj4NCmVuZG9iag0KMTcgMCBvYmoNCjw8IC9UeXBlIC9Gb250DQovU3VidHlwZSAvVHJ1ZVR5cGUNCi9OYW1lIC9Db3VyaWVyTmV3DQovQmFzZUZvbnQgL0NvdXJpZXJOZXcNCi9GaXJzdENoYXIgMzANCi9MYXN0Q2hhciAyNTUNCi9Gb250RGVzY3JpcHRvciAxOSAwIFINCi9XaWR0aHMgMjAgMCBSDQovRW5jb2RpbmcgMTggMCBSDQo+Pg0KZW5kb2JqDQoxOSAwIG9iag0KPDwgL1R5cGUgL0ZvbnREZXNjcmlwdG9yDQovRm9udE5hbWUgL0NvdXJpZXJOZXcNCi9Bc2NlbnQgODMzLjANCi9DYXBIZWlnaHQgODMzLjANCi9EZXNjZW50IC0zMDAuMA0KL0ZsYWdzIDM0DQovRm9udEJCb3ggWyAtMjUwLjAgLTMwMC4wIDc0NC4wIDgzMy4wIF0NCi9JdGFsaWNBbmdsZSAwDQovU3RlbVYgMA0KPj4NCmVuZG9iag0KMjAgMCBvYmoNClsNCjYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIDYwMC4wIA0KXQ0KZW5kb2JqDQoxOCAwIG9iag0KPDwgL1R5cGUgL0VuY29kaW5nDQovQmFzZUVuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCnhyZWYNCjAgMjINCjAwMDAwMDAwMDAgNjU1MzUgZg0KMDAwMDAwMDAxNyAwMDAwMCBuDQowMDAwMDAwMjA3IDAwMDAwIG4NCjAwMDAwMDAyNTQgMDAwMDAgbg0KMDAwMDAwMDMwNiAwMDAwMCBuDQowMDAwMDA0NTQxIDAwMDAwIG4NCjAwMDAwMDAzNjAgMDAwMDAgbg0KMDAwMDAxNDk4NSAwMDAwMCBuDQowMDAwMDE2NzQ5IDAwMDAwIG4NCjAwMDAwMTUxNjQgMDAwMDAgbg0KMDAwMDAxNTM2MCAwMDAwMCBuDQowMDAwMDA0NjA4IDAwMDAwIG4NCjAwMDAwMTY4MjIgMDAwMDAgbg0KMDAwMDAxODYwNCAwMDAwMCBuDQowMDAwMDE3MDE0IDAwMDAwIG4NCjAwMDAwMTcyMTYgMDAwMDAgbg0KMDAwMDAwOTg4MyAwMDAwMCBuDQowMDAwMDE4Njc4IDAwMDAwIG4NCjAwMDAwMjA0NDcgMDAwMDAgbg0KMDAwMDAxODg2NiAwMDAwMCBuDQowMDAwMDE5MDY1IDAwMDAwIG4NCjAwMDAwMDQyMzUgMDAwMDAgbg0KdHJhaWxlcg0KPDwgL1NpemUgMjINCi9JbmZvIDEgMCBSDQovUm9vdCA0IDAgUg0KL0lEWyAgPDQzNDYzMjMxMzAzODQ2NDQyZDMwMzA0NjQyMmQzNDQxMzEzNjJkMzk0MTQzNDYyZDQyMzQ0MzQ1NDEzMTQ1MzIzNzQ0MzIzMz4gPDQzNDYzMjMxMzAzODQ2NDQyZDMwMzA0NjQyMmQzNDQxMzEzNjJkMzk0MTQzNDYyZDQyMzQ0MzQ1NDEzMTQ1MzIzNzQ0MzIzMz4gXQ0KPj4NCnN0YXJ0eHJlZg0KMjA1MjENCiUlRU9GDQo=";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        signaturePad = findViewById(R.id.signature_pad);
        saveButton = findViewById(R.id.saveButton);
        viewPdf = findViewById(R.id.viewPdf);
        saveButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                transpBitmap = signaturePad.getTransparentSignatureBitmap();
                saveToPdf(transpBitmap);
            }
        });
        viewPdf.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent intent =  new Intent(MainActivity.this, ViewPdf.class);
                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
                startActivity(intent);
            }
        });

    }

    private void saveToPdf(Bitmap bitmap){
        try {
            File pdfDir = new File(Environment.getExternalStorageDirectory(),"/SignaturePdfs/");
            if (!pdfDir.exists()){
                pdfDir.mkdirs();
            }
            byte[] pdfBytes = Base64.decode(BASE64_PDF,Base64.DEFAULT);
            InputStream byteArrayPdf = new ByteArrayInputStream(pdfBytes);
            File pdfFile = new File(pdfDir,"/signaturePdf.pdf");
            try {
                writeInputStreamToFile(byteArrayPdf,pdfFile);
            }
            catch (Exception e){
                Log.d("ERRO COPIA", String.valueOf(e));
            }
            pdfFile.createNewFile();
            drawSignature(pdfFile,bitmap,pdfDir);
            Toast.makeText(this,"DEU CERTO",Toast.LENGTH_SHORT).show();
            String modified64base = convertPdfToBase64(pdfFile);
            Log.d("BASE64NOVO",modified64base);
        }
        catch (Exception e){
            e.printStackTrace();
            Log.d("ERRO_PDF",String.valueOf(e));
            Toast.makeText(this,"DEU ERRO",Toast.LENGTH_SHORT).show();
        }
    }

    private void drawSignature(File pdfFile, Bitmap bitmap, File pdfDir) throws IOException {
        PdfReader reader = new PdfReader(pdfFile);
        File outputFile = new File(pdfDir,"/signedFinal.pdf");
        PdfWriter writer = new PdfWriter(outputFile);
        PdfDocument pdfDocument = new PdfDocument(reader,writer);
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        bitmap.compress(Bitmap.CompressFormat.PNG,100,outputStream);
        byte[] byteArray = outputStream.toByteArray();
        ImageData imageData = ImageDataFactory.create(byteArray);
        float x = 100;
        float y = 100;
        float width = 300;
        PdfCanvas canvas = new PdfCanvas(pdfDocument.getFirstPage());
        canvas.addImage(imageData,x,y,width,false);
        pdfDocument.close();
        imageData = null;
    }

    private void writeInputStreamToFile(InputStream inputStream, File outputFile) throws IOException {
        FileOutputStream outputStream = new FileOutputStream(outputFile);
        byte[] buffer = new byte[256];
        int length;
        while ((length = inputStream.read(buffer)) > 0) {
            outputStream.write(buffer, 0, length);
        }
        outputStream.flush();
        outputStream.close();
        inputStream.close();
    }
    private String convertPdfToBase64(File pdfFile) {
        // Convert the modified PDF back to Base64
        byte[] bytes = new byte[(int) pdfFile.length()];
        try {
            FileInputStream fileInputStream = new FileInputStream(pdfFile);
            fileInputStream.read(bytes);
            fileInputStream.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
        return Base64.encodeToString(bytes, Base64.DEFAULT);
    }
}